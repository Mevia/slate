# Releases

## Development - 1.5.0

### Datetimes to prescriptions
Prescriptions now have two new fields - starts_at and ends_at, both beeing datetimes. The old variables start_date and end_date are still available. Setting start_date=2015-05-05 will behave exactly like setting starts_at=2015-05-05 00:00:00, and setting end_date=2015-05-05 will behave exactly like setting ends_at=2015-05-05 23:59:59. Internally, this is exactly what happens as well.

### Soft deletes of prescriptions
Prescriptions deleted will still be stored in the Mevia Database. Resources deleted by the delete-call will be saved as well. As of now, to restore any data, contact Mevia.

### Offsets
Any call to Mapi fetching more than one resource can now be offset by setting the offset parameter in the call.

### Limits
Any call to Mapi fetching more than one resource can now be limited by setting the limit parameter in the call.

### Filters added
Resources with internal dates can now be filtered using date_from and date_to (can be dates or datetimes)

### Orders
Resources fetched through Mapi can be now ordered by any available attribute.

### RESTful doses
Doses can now be created without using a dose schema. Doses can be batch-created by sending a array of doses rather than a single resource. WARNING: Using both a dose schema and individual doses is not recommended when using expected pods.

## Staging - 1.4.0 

See production

## Production - 1.4.0

### RESTful notifications
Notifications can now be created individually, and does not need a notification policy. If no notification policy is used, a message is required.

### New flags
New flags: 
LOW_BATTERY: Created when a module drops below 20% battery. 
ADHERENCE_ANOMALY: Created whenever something is wrong from a adherence perspective (basically, whenever a adherence-related flag is created. Used so that one does not have to create one flag policy per adherence flag type).
OUTSIDE_DOSE_INTERVAL: Created when a dose is taken outside of any valid dose intervals.

### Automatic DST offsetting
By setting your locale in your ApiUser, the system will automatically offset any doses generated by scheduled dose schemas so that the doses will start and end at the same time even after any DST changes.

### Filtering of doses by pod numbers
Doses can now be queried by pod numbers.

### Filtering of resources included in includes field on prescription calls
Any resource included in a call to prescription can now be filtered by date (if a date exists on the resource). For example, the call .../prescriptions?include=events&date_from=2015-01-01 will only include events older than 2015-01-01.